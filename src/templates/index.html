<!DOCTYPE html>
<html>

    <head>
        <title>PyTorch Linear Regression</title>
        <!-- Add Chart.js CDN -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <!-- Use url_for to link static files -->
        <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
    </head>

    <body>
        <div class="container">
            <h1>PyTorch Linear Regression</h1>
            <p style="text-align: center;">Predicting House Price based on Square Feet Living Area</p>

            <div class="controls">
                <h2>Train Model</h2>
                <button id="train-button">Train Model</button>
                <span id="status"></span>
            </div>

            <div class="prediction">
                <h2>Predict Price</h2>
                <label for="sqft">Square Footage:</label>
                <input type="number" id="sqft" name="sqft" placeholder="e.g., 1500">
                <button id="predict-button" {% if not model_exists %}disabled{% endif %}>Predict Price</button>
                <p>Predicted Price: <strong id="prediction-result">---</strong></p>
                <span id="predict-status">{% if not model_exists %}Model needs training first.{% endif %}</span>
            </div>

            <div class="plot-area">
                <h2>Results Plot</h2>
                <!-- Replace img with canvas -->
                <canvas id="regressionChart"></canvas>
                <p id="plot-placeholder" style="text-align:center; display: none;">Chart will appear here after
                    training.</p>
            </div>
        </div>
        <script src="{{ url_for('static', filename='data.js') }}"></script>
    </body>

</html>